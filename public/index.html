<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Game Auto-Stop Manager</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; margin: 20px; }
    .grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin:10px 0; }
    .actions { display:flex; gap:8px; flex-wrap:wrap; }
    details { border:1px solid #ddd; border-radius:6px; padding:10px; margin:8px 0; }
    pre { background:#0b1020; color:#d0e6ff; padding:10px; border-radius:6px; max-height:40vh; overflow:auto; }
    small { color:#666; }
  </style>
</head>
<body>
  <h1>Game Auto-Stop Manager</h1>
  <p>Surveille tes serveurs de jeux et <strong>les arrête</strong> après X minutes sans joueur.</p>

  <h3>Nouveau watcher</h3>
  <form id="formNew">
    <div class="grid">
      <label>Nom<br><input name="name" required></label>
      <label>Conteneur cible (nom ou ID)<br><input name="targetContainer" required></label>
      <label>Gamedig type<br>
        <select name="gamedigType">
          <option value="valheim">valheim</option>
          <option value="vrising">vrising</option>
          <option value="protocol-valve" selected>protocol-valve</option>
          <option value="minecraft">minecraft</option>
          <option value="seven_days_to_die">seven_days_to_die</option>
        </select>
      </label>
      <label>Host (IP/DNS)<br><input name="queryHost" required></label>
      <label>Port<br><input type="number" name="queryPort" value="9877" required></label>
      <label>Inactivité (min)<br><input type="number" name="inactivityMinutes" value="10"></label>
      <label>Intervalle (sec)<br><input type="number" name="checkIntervalSec" value="60"></label>
      <label>Timeout arrêt (sec)<br><input type="number" name="stopTimeoutSec" value="60"></label>
      <label>Autostart<br><input type="checkbox" name="autostart" checked></label>
    </div>
    <button>Ajouter</button>
  </form>

  <h3>Watchers</h3>
  <div id="watchers"></div>

  <h3>Événements</h3>
  <pre id="log"></pre>

  <script src="/app.js"></script>
</body>
</html>
